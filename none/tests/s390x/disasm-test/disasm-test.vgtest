#
# We do not want disasm-test to be run under the auspices of valgrind.
# Therefore the real test here is run in the "post" command.
#
# Excluded opcodes:
# exrl  - Offset is expected to denote a decodable insn; no such scaffolding
# kma   - Cannot express constraint that r3 must be different from r1 and r2
# srnmb - The compile-time checkable constraint cannot be expressed in opcode.c
# The following need to be fixed
# vgef - runs into an assert instead of spec. exc.
# vgeg - runs into an assert instead of spec. exc.
# vscef - runs into an assert instead of spec. exc.
# vsceg - runs into an assert instead of spec. exc.
# vstef - runs into an assert instead of spec. exc.

prereq: ./disasm-test --check-march=arch14
prog: /bin/true
post: ./disasm-test --gcc-flags=-march=arch14 --all --exclude exrl kma vgef vgeg vscef vsceg vstef srnmb --summary
vgopts: -q
stderr_filter:
stderrB_filter:
