#
# We do not want disasm-test to be run under the auspices of valgrind.
# Therefore the real test here is run in the "post" command.
#
# Excluded opcodes:
# exrl - Offset is expected to denote a decodable insn; no such scaffolding
# kma  - cannot express constraint that r3 must be different from r1 and r2
# The following need to be fixed
# vmsl - m6 does not cause a spec exc.
# vgef - runs into an assert instead of spec. exc.
# vgeg - runs into an assert instead of spec. exc.
# vscef - runs into an assert instead of spec. exc.
# vsceg - runs into an assert instead of spec. exc.
# vstef - runs into an assert instead of spec. exc.
# srnmb - The compile-time checkable constraint cannot be expressed in opcode.c
#         But the s390_insn_assert is wrong nevertheless because bits [0:55] are ignored.
#         Need to mask d2 before checking  (d2 & 0xff)
# vster - should be    s390_insn_assert(m3 >= 1 && m3 <= 3);   // 3 not 4

prereq: ./disasm-test --check-march=arch14
prog: /bin/true
post: ./disasm-test --gcc-flags=-march=arch14 --all --exclude exrl kma vmsl vgef vgeg vscef vsceg vstef srnmb vster --summary
vgopts: -q
stderr_filter:
stderrB_filter:
